{"remainingRequest":"D:\\Документы\\Desktop\\Web_Engineer_Challange\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\Документы\\Desktop\\Web_Engineer_Challange\\client\\src\\ducks\\search.js","dependencies":[{"path":"D:\\Документы\\Desktop\\Web_Engineer_Challange\\client\\src\\ducks\\search.js","mtime":1547974073771},{"path":"D:\\Документы\\Desktop\\Web_Engineer_Challange\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1547970070918},{"path":"D:\\Документы\\Desktop\\Web_Engineer_Challange\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1547754015365}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fetchSearch = exports.requestSearch = exports.SEARCH_ERROR = exports.SEARCH_FETCHED = exports.SEARCH_REQUEST = exports.moduleName = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _reduxObservable = require('redux-observable');\n\nvar _operators = require('rxjs/operators');\n\nvar _rxjs = require('rxjs');\n\nvar _ajax = require('rxjs/ajax');\n\nvar appName = \"wizard\";\nvar moduleName = exports.moduleName = \"search\";\n\nvar SEARCH_REQUEST = exports.SEARCH_REQUEST = appName + '/' + moduleName + '/SEARCH_REQUEST';\nvar SEARCH_FETCHED = exports.SEARCH_FETCHED = appName + '/' + moduleName + '/SEARCH_FETCHED';\nvar SEARCH_ERROR = exports.SEARCH_ERROR = appName + '/' + moduleName + '/SEARCH_ERROR';\n\nvar initial = {\n  fetching: false,\n  fetched: true,\n  error: null,\n  success: false,\n  message: false,\n  data: []\n};\n\nexports.default = function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initial;\n  var action = arguments[1];\n  var type = action.type,\n      payload = action.payload;\n\n  switch (type) {\n    case SEARCH_REQUEST:\n      return _extends({}, state, { fetching: true, fetched: false, error: null, success: false, data: [], message: '' });\n    case SEARCH_FETCHED:\n      return _extends({}, state, { fetching: false, fetched: true, error: null, success: true, data: payload.data, message: '' });\n    case SEARCH_ERROR:\n      return _extends({}, state, { fetching: true, fetched: false, error: null, success: false, data: [], message: '' });\n    default:\n      return state;\n  }\n};\n\n// ACTIONS\n\n\nvar requestSearch = exports.requestSearch = function requestSearch() {\n  var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return { type: SEARCH_REQUEST, text: text };\n};\n\n// EPICS\nvar fetchSearch = exports.fetchSearch = function fetchSearch(action$) {\n  return action$.pipe((0, _reduxObservable.ofType)(SEARCH_REQUEST), (0, _operators.exhaustMap)(function (action) {\n    return _ajax.ajax.get('/api/wizard?search=' + action.text).pipe((0, _operators.pluck)('response'), (0, _operators.switchMap)(function (res) {\n      return (0, _rxjs.of)({ type: SEARCH_FETCHED, payload: { data: res.data } });\n    }));\n  }));\n};",null]}